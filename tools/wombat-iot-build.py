#!/usr/bin/env python3
# -*- coding:utf-8 -*-
########################################################################################################################
# Author : Jerome ODIER
# Email : jerome@odier.xyz
#
# Version : 1.0 (2016-![VALUE YEAR])
#
#
# This file is part of WOMBAT-IOT.
#
#
# Batkens RESTRICTED
# __________________
#
#  Batkens
#  All Rights Reserved.
#
# NOTICE:  All information contained herein is, and remains
# the property of Batkens and its suppliers, if any.
# The intellectual and technical concepts contained herein are
# proprietary to Batkens and its suppliers and are protected by
# trade secret or copyright law. Dissemination of this information
# or reproduction of this material is strictly forbidden unless
# prior written permission is obtained from Batkens.
########################################################################################################################

import os, sys, zlib, base64

########################################################################################################################

def main():

    ####################################################################################################################

    print('''
██     ██  ██████  ███    ███ ██████   █████  ████████       ██  ██████  ████████ 
██     ██ ██    ██ ████  ████ ██   ██ ██   ██    ██          ██ ██    ██    ██    
██  █  ██ ██    ██ ██ ████ ██ ██████  ███████    ██    █████ ██ ██    ██    ██    
██ ███ ██ ██    ██ ██  ██  ██ ██   ██ ██   ██    ██          ██ ██    ██    ██    
 ███ ███   ██████  ██      ██ ██████  ██   ██    ██          ██  ██████     ██    
                                                                                  '''[1: ])

    ####################################################################################################################

    baseDir = os.path.dirname(os.path.realpath(__file__))

    src = baseDir + os.sep + 'wombat-iot-tools.py'

    dst = baseDir + os.sep + 'wombat-iot-tools.img'

    ####################################################################################################################

    try:

        ################################################################################################################

        with open(src, 'r') as f:

            data = f.read()

        ################################################################################################################

        try:

            image = base64.b64encode(zlib.compress(data.encode('utf-8'))).decode('utf-8')

        except:

            image = base64.b64encode(zlib.compress(data))

        ################################################################################################################

        with open(dst, 'w') as f:

            f.write(image)

        ################################################################################################################

        print('`%s` generated with success.' % dst)

        ################################################################################################################

        print('''
     _/\/\______/\/\____/\/\/\/\____/\/\______/\/\__/\/\/\/\/\________/\/\______/\/\/\/\/\/\____________/\/\/\/\____/\/\/\/\____/\/\/\/\/\/\_
    _/\/\__/\__/\/\__/\/\____/\/\__/\/\/\__/\/\/\__/\/\____/\/\____/\/\/\/\________/\/\__________________/\/\____/\/\____/\/\______/\/\_____ 
   _/\/\/\/\/\/\/\__/\/\____/\/\__/\/\/\/\/\/\/\__/\/\/\/\/\____/\/\____/\/\______/\/\______/\/\/\/\____/\/\____/\/\____/\/\______/\/\_____  
  _/\/\/\__/\/\/\__/\/\____/\/\__/\/\__/\__/\/\__/\/\____/\/\__/\/\/\/\/\/\______/\/\__________________/\/\____/\/\____/\/\______/\/\_____   
 _/\/\______/\/\____/\/\/\/\____/\/\______/\/\__/\/\/\/\/\____/\/\____/\/\______/\/\________________/\/\/\/\____/\/\/\/\________/\/\_____    
________________________________________________________________________________________________________________________________________     '''[1: ])

        ################################################################################################################

        return 0

    except Exception as e:

        print('error: %s' % e)

        return 1

########################################################################################################################
# MAIN                                                                                                                 #
########################################################################################################################

if __name__ == '__main__':

    sys.exit(main())

########################################################################################################################
